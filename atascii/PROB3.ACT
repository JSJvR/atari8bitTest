BYTE ARRAY curr›CARD sdmctl=559››BYTE ARRAY›  zero  = "zero",›  one   = "ONE",›  two   = "TWO",›  three = "THREE",›  four  = "FOUR",›  five  = "FIVE",›  six   = "SIX",›  seven = "SEVEN",›  eight = "EIGHT",›  nine  = "NINE"››CARD ARRAY digits(10)››PROC Init()     ›  BYTE i›  ›  digits(0)=zero›  digits(1)=one›  digits(2)=two›  digits(3)=three›  digits(4)=four›  digits(5)=five›  digits(6)=six›  digits(7)=seven›  digits(8)=eight›  digits(9)=nine›        ›  FOR i = 0 TO 9 ›  DO›    PrintE(digits(i))›  OD›RETURN››;-------------------------------------›    ›BYTE FUNC FindMatch(BYTE ARRAY str, BYTE pos, BYTE ARRAY search)›  BYTE i››  ; Quick exit if string is not long enough to match›  IF str(0)-pos+1 < search(0) THEN›    RETURN(0)›  FI         ›  ›  FOR i = 1 TO search(0)›  DO            ›    IF search(i) # str(pos-1+i) THEN›      RETURN(0)›    FI›  OD›RETURN(1)›                                       ›;-------------------------------------››BYTE FUNC GetDigit(BYTE ARRAY str, BYTE pos)›  BYTE i››  IF str(pos)>='0 AND str(pos)<='9 THEN›    RETURN (str(pos)-'0)›  FI      ››;  FOR i=1 TO 9›;  DO›;    IF FindMatch(str,pos,digits(i)) THEN›;     RETURN (i)›;    FI›;  OD›RETURN (10)››;-------------------------------------››CARD FUNC GetNumber(BYTE ARRAY val, BYTE pos)›  BYTE i,len,digit›  CARD total››  digit = 10›  total = 0›                   ›  len   = val(0)›  i     = pos››  WHILE i<= len AND digit=10›  DO›    digit=GetDigit(val,i)›    i==+1›  OD›              ›  ; If no valid digits were found, return 0          ›  IF digit = 10 THEN›    RETURN (0)›  FI››  WHILE i<=len AND digit#10›  DO  ›    total==*10›    total==+digit›    digit=GetDigit(val,i)›             ›    i==+1›  OD› ›RETURN (total)›                ›;-------------------------------------››BYTE FUNC NumLen(CARD num)›  CARD tens›  BYTE length››  length=1 ›  tens=10››  WHILE num>tens›  DO›    tens==*10›    length==+1›  OD ›  ›RETURN (length)››PROC Main()›  BYTE ARRAY buf(255)›  CARD numLines = [0]›  CARD num›  CARD total = [0]›  BYTE length›  BYTE start ›  BYTE savedDma›              ›  ; Turn the screen off for some extra speed›  savedDma = sdmctl ›  ;sdmctl   = 0                  › ›  Init()››  Open(1,"D:TEST01.TXT",4,0)›            ›  DO           ›    InputSD(1,buf)  ›    numLines==+1›    start=1›    PrintE(buf)›    DO         ›      PrintBE(start)››      num = GetNumber(buf,start)›      PrintCE(num)›      length=NumLen(num)›      start==+length+1›      total==+num›    UNTIL num=0›    OD›  UNTIL buf(0)=0 OR numLines>1500›  OD››  Print("Lines processed: ")    ›  PrintCE(numLines)››  Print("Total: ")›  PrintCE(total)›  Close(1)›;  sdmctl = savedDma ›RETURN›››